
1、两将军问题
    两将军问题的实质是数据丢失导致通信异常，解决方法是启动超时机制保障通信正常


2、拜占庭将军问题
    拜占庭将军问题的实质是拜占庭故障即通信兵可能被敌军俘获且已经叛变从而传递错误的信息，还有将军也可能成为叛徒
    在分布式系统中典型的拜占庭故障就是某台服务器的进程因CPU繁忙、内存申请超时、网络用塞、磁盘响应慢等原因出现工作状态不正常，却带病工作的亚健康状态
    解决拜占庭故障的方法：
        1）根据分布式系统的服务器总数，限定发生拜占庭故障的服务器数量
        2）根据数字签名识别伪装的服务器，或者根据序列号识别亚健康服务器的错误信息

3、分布式系统中协调技术实现

3.1、原子广播
    分布式系统中原子广播把消息发送给多个接收服务器，实现某种形式的组播，而且对于多条顺序消息，在多个接收服务器侧能够保证完全顺序
3.2、试图复制
3.3、paxos
    paxos协议运行在网络环境，对于N个成员的系统能够容忍F个成员的崩溃停机故障，但是必须满足N>=2F+1，paxos包含如下角色：
    1）客户端
        该角色负责发送请求给paxos分布式系统，然后等待返回响应
    2）接收者
        该角色起到容错的作用，多个接收者形成投票组，所有客户端请求必须被发送到投票组的接收者
    3）提案者
    该角色负责响应客户端请求，当它收到请求后，会把请求发送给所有接收者并达成一致，提案者起到协调的作用，并推动协议的状态机运行，同时通过协调控制多个请求写入
    同一个对象的冲突
    4）学习者
        该角色负责处理如果响应客户端，目的是提高可用性和支撑一致性模型
    5）领导者
        该角色由paxos选取某个提案者担当，成员都必须新人它，在出现故障后，多个成员希望成为领导者，此时会选取出新的领导者，通过它实现选主
3.4、faft

4、协调达成共识算法分析
    1）状态机复制
    2）投票
    3）故障类型
        崩溃故障
        拜占庭故障
    4）选主
        基于投票选举
        优先级选举
    5）日志复制

5、数据冗余技术
    1）副本
    2）RAID
    3）纠删码

6、复制一致性
    1）CAP
        C:表示一致性，读请求应该得到最新数据或者返回失败
        A:表示可用性，读/写请求尽量得到响应，读不必取得最新的数据
        P:分区容错性，网络节点丢包后，系统能够正常工作
    2）ACID

    所以，CAP的C描述数据多副本之间的一致性，而ACID的C和I结合起来描述多事务并发请求在单份数据库记录上的读、写一致性

7、一致性模型
    1）客户端一致性模型

    2）数据副本一致性模型
        1、顺序一致性
        2、因果一致性
        3、最终一致性
8、复制协议
    1）基于主复制协议
    2）客户端写复制协议


































